# golang-proxy `v3.1`

![golang-proxy](https://img.shields.io/teamcity/codebetter/bt428.svg)
[![download](https://img.shields.io/eclipse-marketplace/dt/notepad4e.svg)](https://github.com/storyicon/golang-proxy)

> Made some changes to the judgment logic of whether the proxy is highly anonymous. This problem has led to the absence of proxies that can be used. Now you can enjoy it. üòè

-   [English Document](#english-document)
    -   [1. Feature](#1-feature)
    -   [2. How to use](#2-how-to-use)
        -   [API interface](#api-interface)
    -   [3. Advanced](#3-advanced)
        -   [two `data tables`](#two-data-tables)
            -   [1. Table Crude Proxy](#1-table-crude-proxy)
            -   [2. Table Proxy](#2-table-proxy)
        -   [one `configuration file`](#one-configuration-file)
        -   [one `source folder`](#one-source-folder)
        -   [four `modules`](#four-modules)
    -   [Request for comments](#request-for-comments)
-   [‰∏≠ÊñáÊñáÊ°£](#‰∏≠ÊñáÊñáÊ°£)
    -   [Âú® `v3.0` ÊúâÂì™‰∫õÊñ∞ÁâπÊÄß](#Âú®-v30-ÊúâÂì™‰∫õÊñ∞ÁâπÊÄß)
    -   [Â¶Ç‰Ωï‰ΩøÁî® `golang-proxy`](#Â¶Ç‰Ωï‰ΩøÁî®-golang-proxy)
        -   [1. ‰ΩøÁî®ÂºÄÁÆ±Âç≥Áî®ÁâàÊú¨](#1-‰ΩøÁî®ÂºÄÁÆ±Âç≥Áî®ÁâàÊú¨)
            -   [Êé•Âè£Á§∫‰æã: `localhost:9999/sql`](#Êé•Âè£Á§∫‰æã-localhost9999sql)
        -   [2. ‰ΩøÁî®Ê∫êÁ†ÅÁºñËØë](#2-‰ΩøÁî®Ê∫êÁ†ÅÁºñËØë)
    -   [‰∏∫‰ªÄ‰πàË¶ÅÁî® Golang-Proxy](#‰∏∫‰ªÄ‰πàË¶ÅÁî®-golang-proxy)
    -   [Â¶Ç‰ΩïÈÖçÁΩÆ‰∏Ä‰∏™Êñ∞ÁöÑÊ∫ê](#Â¶Ç‰ΩïÈÖçÁΩÆ‰∏Ä‰∏™Êñ∞ÁöÑÊ∫ê)
    -   [ÂæÅÊ±ÇÊÑèËßÅ](#ÂæÅÊ±ÇÊÑèËßÅ)

![golang-proxy](https://raw.githubusercontent.com/parnurzeal/gorequest/gh-pages/images/Gopher_GoRequest_400x300.jpg)

# English Document

Golang-proxy is an efficient free proxy crawler that ensures that the captured proxies are highly anonymous and at the same time guarantee their quality. You can use these captured proxies to download network resources and ensure the privacy of your own identity.

## 1. Feature

-   Very high speed of proxy crawler, which can download 1000 pages per second.
-   You can customize the source of proxy crawler. The configuration file is extremely simple.
-   Provide a compiled version, comes with a SQLite database, and supports mysql
-   Comes with an API interface, all functions can be used with one click
-   Proxy evaluation system to ensure the quality of the proxy pool

## 2. How to use

`golang-proxy` provides compiled binary files so that you do not need `golang` on the machine. Download binary compression pack to [Release Page](https://github.com/storyicon/golang-proxy/releases/)  
According to your system type, download the corresponding compression package, unzip it and run it. After a few minutes, you can access `localhost:9999/all` in the browser to see the proxy's crawl results.

Before I go into the detailed introduction of golang-proxy, I think it's best to tell you the most useful information first.

### API interface

After you start the binary, you can access the following interface in the browser to get the proxy

| url                                    | description                                                                               |
| -------------------------------------- | ----------------------------------------------------------------------------------------- |
| `localhost:9999/all`                   | Get all highly available proxies                                                          |
| `localhost:9999/all?table=proxy`       | Get all highly available proxies                                                          |
| `localhost:9999/random`                | Randomly acquire a highly available proxy                                                 |
| `localhost:9999/all?table=crude_proxy` | Obtain the proxies in the temporary table (the quality of them cannot be guaranteed)      |
| `localhost:9999/random?table=proxy`    | Randomly get an proxy from the temporary table (the quality of them cannot be guaranteed) |
| `localhost:9999/sql?query=`            | Write the SQL statement you want to execute after `query=`, customize your filter rules.  |

Having mastered the above content, you have been able to use the 50% function of `golang-proxy`. But the last interface allows you to execute custom SQL statements, and you'll find that you need to know at least the structure of the tables. The following will tell you.

## 3. Advanced

golang-proxy consists of the following parts:

-   two `data tables`
-   one `configuration file`
-   one `source folder`
-   four `modules`

### two `data tables`

#### 1. Table Crude Proxy

In order to store temporary proxies, we designed the data table `crude_proxy`, the table is defined as follows.

| field       | type   | example         | description |
| ----------- | ------ | --------------- | ----------- |
| id          | int    | -               | -           |
| ip          | string | 192.168.0.1     | -           |
| port        | string | 255             | -           |
| content     | string | 192.168.0.1:255 | -           |
| insert_time | int    | 1540798717      | -           |
| update_time | int    | 1540798717      | -           |

table `crude_proxy` stores the proxies that are crawled out, and cannot guarantee their quality.

#### 2. Table Proxy

When the agent in the `crude_proxy` table passes through `pre assess` ( `pre assess` roughly verifies the availability of the proxy and tests the proxy's support for `https` and `http` ), it will enter the `proxy` table.

| field                   | type   | example         | description                                                                                                      |
| ----------------------- | ------ | --------------- | ---------------------------------------------------------------------------------------------------------------- |
| id                      | int    | -               | -                                                                                                                |
| ip                      | string | 192.168.0.1     | -                                                                                                                |
| port                    | string | 255             | -                                                                                                                |
| scheme_type             | int    | 2               | Identify the extent to which the proxy supports http and https, `0`: http only, `1` https only, `2` https & http |
| content                 | string | 192.168.0.1:255 |                                                                                                                  |
| assess_times            | int    | 5               | proxy evaluation times                                                                                           |
| success_times           | int    | 5               | The number of times the proxy successfully passed the evaluation                                                 |
| avg_response_time       | float  | 0.001           | -                                                                                                                |
| continuous_failed_times | int    | 0               | The number of consecutive failures during the proxy evaluation process                                           |
| score                   | float  | 25              | The higher the better                                                                                            |
| insert_time             | int    | 1540798717      | -                                                                                                                |
| update_time             | int    | 1540798717      | -                                                                                                                |

The proxy in the `proxy` table will be evaluated periodically and their scores will be modified. Low scores will be deleted.

### one `configuration file`

For convenience, the proxy in golang-proxy is stored in the portable database sqlite by default. You can make `golang-proxy` use the mysql database by adding the `config.yml` file in the executable directory.

For details, see [Config](https://github.com/storyicon/golang-proxy/tree/master/config) page.

### one `source folder`

golang-proxy needs `source` to define its crawling contents and rules. Therefore, the run directory of golang-proxy needs at least one `source` folder, and the source folder should have at least one source in `yml` format.
The source is defined as follows:

```yml
page:
    entry: "http://www.xxx.com/http/?page=1"
    template: "http://www.xxx.com/http/?page={page}"
    from: 1
    to: 2000
selector:
    iterator: ".list item"
    ip: ".ip"
    port: ".port"
category:
    parallelnumber: 3
    delayRange: [10, 30]
    interval: "@every 10m"
debug: true
```

In the definition above, `producer` will first crawl the entry page, then crawl:

```
http://www.xxx.com/http/?page=1
http://www.xxx.com/http/?page=2
http://www.xxx.com/http/?page=3
...
http://www.xxx.com/http/?page=2000
```

This source definition page expects this format:

```html
<html>
    ...
    <div class="list">
        <div class="item">
            <div class="ip">127.0.0.1</div>
            <div class="port">80</div>
            ...
        </div>
        <div class="item">
            <div class="ip">125.4.0.1</div>
            <div class="port">8080</div>
            ...
        </div>
        ...
    </div>
    ...
</html>
```

When `producer` parses a single page, it always traverses the nodes defined by iterator first, and then gets the elements defined by `ip` and `port` selectors from these nodes. The source definition above is still valid for the following HTML structure.

```html
<html>
    ...
    <div class="list">
        <div class="item">
            <div class="ip">127.0.0.1:80</div>
        </div>
        <div class="item">
            <div class="ip">125.4.0.1:8080</div>
        </div>
        ...
    </div>
    ...
</html>
```

Because when the `port` selector cannot get the content, it will try to parse the port from the text selected by the `ip` selector.

The source is stored in the source folder in yml format, and a source definition is completed. Golang-proxy will read it and crawl it the next time it starts. So you successfully define a source, store it in the source folder in YML format, and the next time you start golang-proxy, the source will enter the crawl list.

> If a source file name starts with a `.` , the source will not be read.

### four `modules`

golang-proxy consists of four modules, which cooperate to complete the task that golang-proxy wants to accomplish.

| module name | description                                                                                                                                                                                                                              |
| ----------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| producer    | Periodically fetch the source defined in the `source` directory, and write the fetched proxy to the `crude_proxy` table.                                                                                                                 |
| consumer    | Periodically read a certain number of proxies from `crude_proxy`, determine their proxy scheme type and availability, and write them to the `proxy` table.                                                                               |
| assessor    | Periodically read a number of proxies from the `proxy` table to evaluate their quality.                                                                                                                                                  |
| service     | Be responsible for the HTTP API interface provided by `golang-proxy`, allows you to filter and obtain the proxies in the `crude_proxy` and `proxy` tables by `localhost: 9999/all`, `localhost: 9999/random`, and `localhost: 9999/sql`. |

When you start the executable file of golang-proxy, you will start these module in turn. But you can add the `-mode` startup parameter after the golang-proxy executable to command golang-proxy to start only one module. Like below:

```bash
golang-proxy -mode=service
```

This will only start the HTTP API interface service.

At this point, you have mastered the 95% function of golang-proxy. If you want to find more, you can read the source code provided above, and improve them.

## Request for comments

Welcome to submit issue.
If you feel that golang-proxy is helping you, you can order a star or watch, thanks !

# ‰∏≠ÊñáÊñáÊ°£

Golang-Proxy -- ÁÆÄÂçïÈ´òÊïàÁöÑÂÖçË¥π‰ª£ÁêÜÊäìÂèñÂ∑•ÂÖ∑ÈÄöËøáÊäìÂèñÁΩëÁªú‰∏äÂÖ¨ÂºÄÁöÑÂÖçË¥π‰ª£ÁêÜÔºåÊù•Áª¥Êä§‰∏Ä‰∏™Â±û‰∫éËá™Â∑±ÁöÑÈ´òÂåø‰ª£ÁêÜÊ±†ÔºåÁî®‰∫éÁΩëÁªúÁà¨Ëô´„ÄÅËµÑÊ∫ê‰∏ãËΩΩÁ≠âÁî®ÈÄî„ÄÇ

## Âú® `v3.0` ÊúâÂì™‰∫õÊñ∞ÁâπÊÄß

1. ‰æùÊóßÊèê‰æõ‰∫ÜÈ´òÂ∫¶ÁÅµÊ¥ªÁöÑ **API Êé•Âè£**ÔºåÂú®ÂêØÂä®‰∏ªÁ®ãÂ∫èÂêéÔºåÂç≥ÂèØÈÄöËøáÂú®ÊµèËßàÂô®ËÆøÈóÆ`localhost:9999/all` ‰∏é `localhost:9999/random` Áõ¥Êé•Ëé∑ÂèñÊäìÂà∞ÁöÑ‰ª£ÁêÜÔºÅÁîöËá≥ÂèØ‰ª•‰ΩøÁî® `localhost:9999/sql?query=`Êù•ÊâßË°å‰∏Ä‰∫õÁÆÄÂçïÁöÑ SQL ËØ≠Âè•Êù•Ëá™ÂÆö‰πâ‰ª£ÁêÜÁ≠õÈÄâËßÑÂàôÔºÅ
2. ‰æùÊóßÊèê‰æõ `Windows`„ÄÅ`Linux`„ÄÅ`Mac` **ÂºÄÁÆ±Âç≥Áî®Áâà**ÔºÅ
   [Download Release v3.0](https://github.com/storyicon/golang-proxy/releases/)
3. ÊîØÊåÅËá™Âä®ÂØπ‰ª£ÁêÜÁ±ªÂûãËøõË°åÂà§Êñ≠, ÂèØ‰ª•ÈÄöËøá `schemeType` Âà§ÂÆö‰ª£ÁêÜÂØπ`http`Âíå`https`ÁöÑÊîØÊåÅÁ®ãÂ∫¶
4. ÊîØÊåÅ‰∫Ü MySQL Êï∞ÊçÆÂ∫ì, ËØ¶ÊÉÖËØ∑ËßÅ [Config](https://github.com/storyicon/golang-proxy/tree/master/config)
5. ÊîØÊåÅÂçïÁã¨ÂêØÂä®ÊúçÂä°, Âú®ÂêØÂä®ÁºñËØëÂ•ΩÁöÑ‰∫åËøõÂà∂Êñá‰ª∂Êó∂, ÈÄöËøá `-mode=` Êù•ÊåáÂÆöÊòØÂê¶ÂçïÁã¨ÂêØÂä® `producer`/`consumer`/`assessor`/`service`
6. ÈáçÊñ∞ËÆæËÆ°‰∫ÜÊï∞ÊçÆË°®, ËØ∑Ê≥®ÊÑè, ËøôÊÑèÂë≥ÁùÄ `API` Êé•Âè£ÂèëÁîü‰∫ÜÂèòÂä®
7. ÈáçÊñ∞ËÆæËÆ°‰∫Ü `Ê∫ê` ÁöÑÊï∞ÊçÆÁªìÊûÑ, ÂéªÈô§‰∫Ü `filter` Á≠âÂ≠óÊÆµ, ËØ∑Ê≥®ÊÑè, ËøôÊÑèÂë≥ÁùÄ `v2.0` ÁöÑÊ∫êÂú®Áõ¥Êé•Êèê‰æõÁªô`v3.0` ‰ΩøÁî®Êó∂ÂèØËÉΩ‰ºöÂá∫Áé∞‰∏Ä‰∫õÈóÆÈ¢ò
8. Êõ¥Êñ∞‰∫Ü‰∏Ä‰∫õ `Ê∫ê`
9. ‰∏çÂÜçÊîØÊåÅ `-source` ÂêØÂä®ÂèÇÊï∞

## Â¶Ç‰Ωï‰ΩøÁî® `golang-proxy`

### 1. ‰ΩøÁî®ÂºÄÁÆ±Âç≥Áî®ÁâàÊú¨

[Release È°µÈù¢](https://github.com/storyicon/golang-proxy/releases/) Ê†πÊçÆÁ≥ªÁªüÁéØÂ¢ÉÊèê‰æõ‰∫Ü‰∏Ä‰∫õÂéãÁº©ÂåÖÔºåÂ∞Ü‰ªñ‰ª¨Ëß£ÂéãÂêéÊâßË°åÂç≥ÂèØ„ÄÇ

ÂºÄÁÆ±Âç≥Áî®Áâà‰∏ãËΩΩÂú∞ÂùÄ: [Download Release v3.0](https://github.com/storyicon/golang-proxy/releases/)

‰∏ãËΩΩÂÆåÊàêÂêé, Â∞ÜÂéãÁº©ÂåÖ‰∏≠ÁöÑ‰∫åËøõÂà∂Êñá‰ª∂Âíå `source` ÁõÆÂΩïËß£ÂéãÂà∞Âêå‰∏Ä‰∏™‰ΩçÁΩÆ, ÂêØÂä®‰∫åËøõÂà∂Êñá‰ª∂Âç≥ÂèØ, Á®ãÂ∫èÂ∞Ü‰ºöÂêØÂä®‰∏ãÈù¢Ëøô‰∫õÊúçÂä°:

1. `producer` : Âë®ÊúüÊÄßÁöÑÊäìÂèñ`source`ÁõÆÂΩï‰∏≠ÂÆö‰πâÁöÑÊ∫ê, Â∞ÜÊäìÂèñÂà∞ÁöÑ‰ª£ÁêÜÂÜôÂÖ•Âà∞ `crude_proxy` Ë°®‰∏≠
2. `consumer` : Âë®ÊúüÊÄßÁöÑ‰ªé `crude_proxy` ‰∏≠ËØªÂèñ‰∏ÄÂÆöÊï∞ÈáèÁöÑ‰ª£ÁêÜ, Âà§Êñ≠ÂÆÉ‰ª¨ÁöÑ‰ª£ÁêÜÁ±ªÂûã‰ª•ÂèäÂèØÁî®ÊÄß, Â∞ÜÂÆÉ‰ª¨ÂÜôÂÖ•Âà∞ `proxy`Ë°®‰∏≠
3. `assessor` : Âë®ÊúüÊÄßÁöÑ‰ªé `proxy` Ë°®‰∏≠ËØªÂèñ‰∏ÄÂÆöÊï∞ÈáèÁöÑ‰ª£ÁêÜ, ËØÑ‰º∞ÂÆÉ‰ª¨ÁöÑË¥®Èáè
4. `service` : `golang-proxy` Êèê‰æõÁöÑ http api Êé•Âè£, ‰Ωø‰Ω†ÂèØ‰ª•ÈÄöËøá `localhost:9999/all`, `localhost:9999/random`, `localhost:9999/sql?query=` Ëøô‰∏â‰∏™Êé•Âè£Êù•Á≠õÈÄâÂíåËé∑Âèñ `crude_proxy`Âíå `proxy` Ë°®‰∏≠ÁöÑ‰ª£ÁêÜ

ÂΩì‰Ω†ÂêØÂä®ÁºñËØëÂ•ΩÁöÑ‰∫åËøõÂà∂Êñá‰ª∂Êó∂, ÈªòËÆ§Ëøô‰∫õÊúçÂä°‰ºö‰æùÊ¨°ÂêØÂä®, ‰ΩÜÊòØÂú® `v3.0` ÁâàÊú¨, ‰Ω†ÂèØ‰ª•ÈÄöËøáÊ∑ªÂä† `-mode` ÂêØÂä®ÂèÇÊï∞Êù•ÊåáÂÆöÂçïÁã¨ÂêØÂä®Êüê‰∏™ÊúçÂä°, ÊØîÂ¶Ç:

```
golang-proxy -mode=service
```

ËøôÊ†∑ËøêË°å, Â∞ÜÂè™‰ºöÂêØÂä® `service` ÊúçÂä°, Âú®ÂêØÂä®‰∫Ü `service` ‰πãÂêé, ‰Ω†ÂèØ‰ª•Âú®ÊµèËßàÂô®‰∏≠ËÆøÈóÆ‰ª•‰∏ãÊé•Âè£, Ëé∑ÂæóÁõ∏Â∫îÁöÑ‰ª£ÁêÜ:

| url                                       | description                                                            |
| ----------------------------------------- | ---------------------------------------------------------------------- |
| `localhost:9999/all`                      | Ëé∑Âèñ `proxy` Ë°®‰∏≠ÊâÄÊúâÂ∑≤ÁªèÊäìÂèñÂà∞ÁöÑ‰ª£ÁêÜ                                  |
| `localhost:9999/all?table=proxy`          | Ëé∑Âèñ `proxy` Ë°®‰∏≠ÊâÄÊúâÂ∑≤ÁªèÊäìÂèñÂà∞ÁöÑ‰ª£ÁêÜ                                  |
| `localhost:9999/all?table=crude_proxy`    | Ëé∑Âèñ `crude_proxy` Ë°®‰∏≠ÊâÄÊúâÂ∑≤ÁªèÊäìÂèñÂà∞ÁöÑ‰ª£ÁêÜ                            |
| `localhost:9999/random`                   | ‰ªé `proxy` Ë°®‰∏≠ÈöèÊú∫Ëé∑Âèñ‰∏ÄÊù°‰ª£ÁêÜ                                        |
| `localhost:9999/random?table=proxy`       | ‰ªé `proxy` Ë°®‰∏≠ÈöèÊú∫Ëé∑Âèñ‰∏ÄÊù°‰ª£ÁêÜ                                        |
| `localhost:9999/random?table=crude_proxy` | ‰ªé `crude_proxy` Ë°®‰∏≠ÈöèÊú∫Ëé∑Âèñ‰∏ÄÊù°‰ª£ÁêÜ                                  |
| `localhost:9999/sql?query=`               | Âú®`query=`ÂêéÂä†‰∏ä`SQL`ËØ≠Âè•, ËøîÂõû SQL ÊâßË°åÁªìÊûú, Âè™ÊîØÊåÅËæÉ‰∏∫ÁÆÄÂçïÁöÑÊü•ËØ¢ËØ≠Âè• |

ËØ∑Ê≥®ÊÑè, `crude_proxy` Âè™ÊòØÊäìÂèñÂà∞ÁöÑ‰ª£ÁêÜÁöÑ‰∏¥Êó∂ÂÇ®Â≠òË°®, ‰∏çËÉΩ‰øùËØÅÂÆÉ‰ª¨ÁöÑË¥®Èáè, ËÄå`proxy` Ë°®‰∏≠ÁöÑ‰ª£ÁêÜÂ∞Ü‰ºö‰∏çÊñ≠ÂæóÂà∞ `assessor` ÁöÑËØÑ‰º∞, `proxy` Ë°®‰∏≠ÁöÑ `score` Â≠óÊÆµÂèØ‰ª•ËæÉ‰∏∫ÂÖ®Èù¢ÁöÑÂèçÊò†‰∏Ä‰∏™‰ª£ÁêÜÁöÑË¥®Èáè, Ë¥®ÈáèËæÉ‰ΩéÊó∂‰ºöË¢´Âà†Èô§

#### Êé•Âè£Á§∫‰æã: `localhost:9999/sql`

‰æãÂ¶ÇËÆøÈóÆ `localhost:9999/sql?query=SELECT * FROM PROXY WHERE SCORE > 5 ORDER BY SCORE DESC`, Â∞Ü‰ºöËøîÂõû `proxy` Ë°®‰∏≠ÊâÄÊúâÂàÜÊï∞Â§ß‰∫é 5 ÁöÑ‰ª£ÁêÜ, Âπ∂ÊåâÁÖßÂàÜÊï∞‰ªéÈ´òÂà∞‰ΩéËøîÂõû

```json
{
    "error": "",
    "message": [
        {
            "id": 2,
            "ip": "45.113.69.177",
            "port": "1080",
            // scheme_type ÂèØ‰ª•Âèñ‰ª•‰∏ãÂÄº:
            // 0: ‰ª£ÁêÜÂè™ÊîØÊåÅ http
            // 1: ‰ª£ÁêÜÂè™ÊîØÊåÅ https
            // 2: ‰ª£ÁêÜÂêåÊó∂ÊîØÊåÅ http Âíå https
            "scheme_type": 0,
            "content": "45.113.69.177:1080",
            // ËØÑ‰º∞Ê¨°Êï∞
            "assess_times": 9,
            // ËØÑ‰º∞ÊàêÂäüÊ¨°Êï∞, ÂèØ‰ª•ÈÄöËøá success_times/assess_timesËé∑Âæó‰ª£ÁêÜËøûÊé•ÊàêÂäüÁéá
            "success_times": 9,
            // Âπ≥ÂùáÂìçÂ∫îÊó∂Èó¥
            "avg_response_time": 0.098,
            // ËøûÁª≠Â§±Ë¥•Ê¨°Êï∞
            "continuous_failed_times": 0,
            // ÂàÜÊï∞, Êé®Ëçê‰ΩøÁî® 5 ÂàÜ‰ª•‰∏äÁöÑ‰ª£ÁêÜ
            "score": 68.45106053570785,
            "insert_time": 1540793312,
            "update_time": 1540797880
        }
    ]
}
```

### 2. ‰ΩøÁî®Ê∫êÁ†ÅÁºñËØë

```bash
go get -u github.com/storyicon/golang-proxy
```

ËøõÂÖ•Âà∞ `golang-proxy` ÁõÆÂΩïÔºåÊâßË°å `go build main.go`ÔºåÊâßË°åÁîüÊàêÁöÑ‰∫åËøõÂà∂ÁöÑÊâßË°åÁ®ãÂ∫èÂç≥ÂèØ„ÄÇ

**Ê≥®ÊÑèÔºö**

È°πÁõÆÊ†πÁõÆÂΩï‰∏ãÁöÑ `./source` ÊòØÈ°πÁõÆÊâßË°åÂøÖÈ°ªÁöÑÊñá‰ª∂Â§πÔºåÈáåÈù¢Â≠òÂÇ®‰∫ÜÂêÑÁ±ªÁΩëÁ´ôÊ∫êÔºåÂÖ∂‰ªñÁöÑÊñá‰ª∂Â§πÂÇ®Â≠òÁöÑÂùá‰∏∫È°πÁõÆÊ∫êÁ†Å„ÄÇÊâÄ‰ª•Âú®ÁºñËØëÂêéÂæóÂà∞‰∫åËøõÂà∂Á®ãÂ∫è `main` Êñá‰ª∂ÂêéÔºåÂç≥ÂèØÂ∞Ü `main` Êñá‰ª∂Âíå `source` Êñá‰ª∂Â§π‰∏ÄÂêåÁßªÂä®Âà∞‰ªªÊÑèÂú∞ÊñπÔºå`main` Êñá‰ª∂ÂèØ‰ª•‰ªªÊÑèÂëΩÂêç„ÄÇ

## ‰∏∫‰ªÄ‰πàË¶ÅÁî® Golang-Proxy

1.  Á®≥ÂÆö„ÄÅÂø´ÈÄü„ÄÇ  
    ÊäìÂèñÊ®°ÂùóÔºå**ÂçïÊ†∏Âπ∂ÂèëÂèØ‰ª•Âà∞Ëææ 1000 ‰∏™È°µÈù¢/Áßí**„ÄÇ
2.  È´òÂèØÈÖçÁΩÆÊÄß„ÄÅÈ´òÊãìÂ±ïÊÄß„ÄÇ  
    ‰Ω†‰∏çÈúÄË¶ÅÂÜô‰ªª‰Ωï‰ª£Á†ÅÔºåËä±**‰∏Ä‰∏§ÂàÜÈíü**Â°´ÂÜô‰∏Ä‰∏™ÈÖçÁΩÆÊñá‰ª∂Â∞±ÂèØ‰ª•Ê∑ªÂä†‰∏Ä‰∏™Êñ∞ÁöÑÁΩëÁ´ôÊ∫ê„ÄÇ
3.  ËØÑ‰º∞ÂäüËÉΩ„ÄÇ  
    ÈÄöËøá Assessor ËØÑ‰º∞Ê®°ÂùóÔºåÂë®ÊúüÊÄßÊµãËØï‰ª£ÁêÜË¥®ÈáèÔºåÊ†πÊçÆ‰ª£ÁêÜÁöÑ**ÊµãËØïÊàêÂäüÁéá„ÄÅÈ´òÂåøÊÄß„ÄÅÊµãËØïÊ¨°Êï∞„ÄÅÁ™ÅÂèòÊÄß„ÄÅÂìçÂ∫îÈÄüÂ∫¶**Á≠âÁã¨Á´ãÂΩ±ÂìçÂõ†Â≠êËøõË°åÁªºÂêàËØÑÂàÜÔºåÁÆóÊ≥ïÂÖ∑ÊúâÈ´òÂ∫¶ÂèØÈÖçÁΩÆÊÄßÔºåÂèØ‰ª•Ê†πÊçÆÈ°πÁõÆÁöÑÈúÄË¶ÅÂèØ‰ª•ÂØπÂõ†Â≠êÁöÑÊùÉÈáçËøõË°åÁã¨Á´ãË∞ÉÊï¥„ÄÇ
4.  Êèê‰æõ‰∫ÜÈ´òÂ∫¶ÁÅµÊ¥ªÁöÑ **API Êé•Âè£**ÔºåÂú®ÂêØÂä®‰∏ªÁ®ãÂ∫èÂêéÔºåÂç≥ÂèØÈÄöËøáÂú®ÊµèËßàÂô®ËÆøÈóÆ`localhost:9999/all` ‰∏é `localhost:9999/random` Áõ¥Êé•Ëé∑ÂèñÊäìÂà∞ÁöÑ‰ª£ÁêÜÔºÅÁîöËá≥ÂèØ‰ª•‰ΩøÁî® `localhost:9999/sql?query=`Êù•ÊâßË°å SQL ËØ≠Âè•Êù•Ëá™ÂÆö‰πâ‰ª£ÁêÜÁ≠õÈÄâËßÑÂàôÔºÅ
5.  ‰∏ç‰æùËµñ‰ªª‰ΩïÊúçÂä°ÂûãÊï∞ÊçÆÂ∫ìÔºå‰∏ÄÈîÆ‰∏ãËΩΩÔºåÂºÄÁÆ±Âç≥Áî®ÔºÅ

## Â¶Ç‰ΩïÈÖçÁΩÆ‰∏Ä‰∏™Êñ∞ÁöÑÊ∫ê

`./source/`‰∏ãÁöÑÊâÄÊúâ yml Ê†ºÂºèÁöÑÊñá‰ª∂ÈÉΩÊòØ**Ê∫ê**Ôºå‰Ω†ÂèØ‰ª•Â¢ûÂä†Ê∫êÔºå‰πüÂèØ‰ª•ÈÄöËøáÂú®Êñá‰ª∂ÂêçÂâçÂä†‰∏ä‰∏Ä‰∏™ **`.`** Êù•‰ΩøÁ®ãÂ∫èÂøΩÁï•Ëøô‰∏™Ê∫êÔºåÂΩìÁÑ∂‰Ω†‰πüÂèØ‰ª•Áõ¥Êé•Âà†Èô§ÔºåÊù•ËÆ©‰∏Ä‰∏™Ê∫êÊ∞∏ËøúÁöÑÊ∂àÂ§±Ôºå‰∏ãÈù¢ËøõË°å Source ÂèÇÊï∞‰ªãÁªçÔºö

```yml
#PageÈÖçÁΩÆÈ°π
page:
    entry: "https://xxx/1.html"
    template: "https://xxx/{page}.html"
    from: 2
    to: 10
#publisherÂ∞Ü‰ºöÈ¶ñÂÖàÊäìÂèñentryÔºåÂç≥ https://xxx/1.html
#ÁÑ∂ÂêéÊ†πÊçÆ template„ÄÅfrom Âíå to ‰æùÊ¨°ÊäìÂèñ
#„ÄÄ„ÄÄhttps://xxx/2.html
#„ÄÄ„ÄÄhttps://xxx/3.html
#„ÄÄ„ÄÄhttps://xxx/4.html
#„ÄÄ„ÄÄ...
#„ÄÄ„ÄÄhttps://xxx/10.html
```

```yml
#SelectorÈÖçÁΩÆÈ°π
selector:
    iterator: ".table tbody tr"
    ip: "td:nth-child(1)"
    port: "td:nth-child(2)"
# ‰ª•‰∏äÈÖçÁΩÆÁî®‰∫éÊäìÂèñ‰∏ãÈù¢ËøôÁßç HTML ÁªìÊûÑ
# <table class="table">
#     <tbody>
#         <tr>
#             <td>187.3.0.1</td>
#             <td>8080</td>
#             <td>HTTP</td>
#         <tr>
#         <tr>
#             <td>164.23.1.2</td>
#             <td>80</td>
#             <td>HTTPS</td>
#         <tr>
#         <tr>
#             <td>131.9.2.3</td>
#             <td>8080</td>
#             <td>HTTP</td>
#         <tr>
#     <tbody>
# <table>
# ÈÄâÊã©Âô®‰∏∫ÈÄöÁî®ÁöÑJQueryÈÄâÊã©Âô®Ôºåiterator‰∏∫Âæ™ÁéØÂØπË±°ÔºåÊØîÂ¶ÇË°®Ê†ºÈáåÁöÑË°åÔºåÊØèË°å‰∏ÄÊù°‰ª£ÁêÜÔºåÈÇ£Ëøô‰∏™Ë°åÁöÑÈÄâÊã©Âô®Â∞±ÊòØiteratorÔºåËÄåip„ÄÅport„ÄÅprotocalÂàôÊòØÂú®iteratorÈÄâÊã©Âô®ÁöÑÂü∫Á°Ä‰∏äËøõË°åÂ≠êÂÖÉÁ¥†ÁöÑÊü•Êâæ„ÄÇ
```

```yml
category:
    # Âπ∂Ë°åÊï∞
    parallelnumber: 1
    # ÂØπ‰∫éËøô‰∏™Ê∫êÔºåÊØèÊäìÂèñ‰∏Ä‰∏™È°µÈù¢
    # Â∞Ü‰ºöÈöèÊú∫Á≠âÂæÖ5~20sÂÜçÊäì‰∏ã‰∏Ä‰∏™È°µÈù¢
    delayRange: [5, 20]
    # Èó¥ÈöîÂ§öÈïøÊó∂Èó¥ÂêØÁî®‰∏ÄÊ¨°Ëøô‰∏™Ê∫ê
    # @every 10s Ôºå @every 10h...
    interval: "@every 10m"
debug: true
```

## ÂæÅÊ±ÇÊÑèËßÅ

1.  ‰ΩøÁî®‰∏≠‰ªª‰ΩïÈóÆÈ¢òÊèê `issues` Âç≥ÂèØ
2.  Â¶ÇÊûúÂèëÁé∞‰∫ÜÊñ∞ÁöÑÂ•ΩÁî®ÁöÑÊ∫êÔºåÊ¨¢ËøéÊèê‰∫§‰∏äÊù•ÂàÜ‰∫´
3.  Êù•ÈÉΩÊù•‰∫ÜÁÇπ‰∏™ Star ÂÜçËµ∞Âëó : )
